<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (14.0.1) on Tue Jun 30 23:37:35 CEST 2020 -->
<title>GodCardController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-06-30">
<meta name="description" content="declaration: package: it.polimi.ingsw.controller, class: GodCardController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.controller</a></div>
<h1 title="Class GodCardController" class="title">Class GodCardController</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="Controller.html" title="class in it.polimi.ingsw.controller">it.polimi.ingsw.controller.Controller</a>
<div class="inheritance">it.polimi.ingsw.controller.GodCardController</div>
</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../observer/Observer.html" title="interface in it.polimi.ingsw.observer">Observer</a>&lt;<a href="../model/messageModel/Message.html" title="class in it.polimi.ingsw.model.messageModel">Message</a>&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">GodCardController</span>
extends <a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></pre>
<div class="block">This class integrates additional controls so that the players can play in the "hard" mode</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="inheritedList">
<h3>Fields inherited from class&nbsp;it.polimi.ingsw.controller.<a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></h3>
<a id="fields.inherited.from.class.it.polimi.ingsw.controller.Controller">
<!--   -->
</a><code><a href="Controller.html#activeClients">activeClients</a>, <a href="Controller.html#answers">answers</a>, <a href="Controller.html#clientConnections">clientConnections</a>, <a href="Controller.html#counter">counter</a>, <a href="Controller.html#model">model</a>, <a href="Controller.html#playersName">playersName</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.polimi.ingsw.model.Model)">GodCardController</a></span>&#8203;(<a href="../model/Model.html" title="class in it.polimi.ingsw.model">Model</a>&nbsp;model)</code></th>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build(it.polimi.ingsw.model.messageModel.PlayerBuild)">build</a></span>&#8203;(<a href="../model/messageModel/PlayerBuild.html" title="class in it.polimi.ingsw.model.messageModel">PlayerBuild</a>&nbsp;playerBuild)</code></th>
<td class="colLast">
<div class="block">At first it checks if the player which has sent the message is the turn's player
      It then calls the checkBuild function to verify whether the player can build there, otherwise it throws a new IllegalArgumentException
      After that, a god card build handler is called in order to check if the player card can modify the game flow or controls for that build
      If it can, the model is being updated with the next phase, the next turn and the next message by the card controller else a normal build is done
      At the end, another god card action is called to clear some flags if needed
      and then it checks whether anyone won or lost</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#canMove(it.polimi.ingsw.model.Worker,it.polimi.ingsw.model.Player)">canMove</a></span>&#8203;(<a href="../model/Worker.html" title="class in it.polimi.ingsw.model">Worker</a>&nbsp;worker,
<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;player)</code></th>
<td class="colLast">
<div class="block">This method returns the amount of cells in which the checkCellAround returns true.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkCantBuild(it.polimi.ingsw.model.messageModel.PlayerBuild)">checkCantBuild</a></span>&#8203;(<a href="../model/messageModel/PlayerBuild.html" title="class in it.polimi.ingsw.model.messageModel">PlayerBuild</a>&nbsp;playerBuild)</code></th>
<td class="colLast">
<div class="block">This method checks whether the worker which has been used to build the first time can build again
 It's in particular useful with gods that can build two or more times.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>protected java.util.HashMap&lt;<a href="../model/Cell.html" title="class in it.polimi.ingsw.model">Cell</a>,&#8203;java.lang.Boolean&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkCellsAround(it.polimi.ingsw.model.Worker)">checkCellsAround</a></span>&#8203;(<a href="../model/Worker.html" title="class in it.polimi.ingsw.model">Worker</a>&nbsp;actualWorker)</code></th>
<td class="colLast">
<div class="block">This method is used to determine in which cells the worker can move, associating every cell around the worker to a boolean value
  The check is made by a god card function by default, if the god card doesn't have any different implementation
   the GodCard.checkCell call the controller check cell <a href="../model/GodCard.html" title="class in it.polimi.ingsw.model"><code>GodCard</code></a></div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkVictory()">checkVictory</a></span>()</code></th>
<td class="colLast">
<div class="block">This method checks if any of the win conditions within the cards in the game affects the victory of any player.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#countTowers()">countTowers</a></span>()</code></th>
<td class="colLast">
<div class="block">This function counts the amount of complete tower built in the board.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#drawedCards(it.polimi.ingsw.model.messageModel.DrawedCards)">drawedCards</a></span>&#8203;(<a href="../model/messageModel/DrawedCards.html" title="class in it.polimi.ingsw.model.messageModel">DrawedCards</a>&nbsp;drawedCards)</code></th>
<td class="colLast">
<div class="block">This method lets the first player choose 2 or 3 god cards (depending on the number of players in the game)
 For each selected card the model's addGod function is called.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#godIncreaseLevel(int,it.polimi.ingsw.model.Cell)">godIncreaseLevel</a></span>&#8203;(int&nbsp;blockId,
<a href="../model/Cell.html" title="class in it.polimi.ingsw.model">Cell</a>&nbsp;buildingCell)</code></th>
<td class="colLast">
<div class="block">Modified increase level for gods card.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#move(it.polimi.ingsw.model.messageModel.PlayerMove)">move</a></span>&#8203;(<a href="../model/messageModel/PlayerMove.html" title="class in it.polimi.ingsw.model.messageModel">PlayerMove</a>&nbsp;move)</code></th>
<td class="colLast">
<div class="block">It overrides the Controller's method, it adds a function to reset some internal data referred to certain gods if needed, then it calls
 another god card method to handle the move action and controls.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pickACard(it.polimi.ingsw.model.messageModel.PickedCard)">pickACard</a></span>&#8203;(<a href="../model/messageModel/PickedCard.html" title="class in it.polimi.ingsw.model.messageModel">PickedCard</a>&nbsp;pickedCard)</code></th>
<td class="colLast">
<div class="block">This method controls and saves the card chosen by a player, if the card exists in the array containing the ones drawed,
 the card is set and the phase updated to repeat the same action for the third player, otherwise it assigns the left card to the first player
 and set the game phase to the SETWORKER1</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPlayerWorker(it.polimi.ingsw.model.messageModel.PlayerWorker)">setPlayerWorker</a></span>&#8203;(<a href="../model/messageModel/PlayerWorker.html" title="class in it.polimi.ingsw.model.messageModel">PlayerWorker</a>&nbsp;playerWorker)</code></th>
<td class="colLast">
<div class="block">It overrides the Controller's setPlayerWorker function, if Prometheus' god card is used in the game, this function modifies the game flow, instead of starting in the moving phase it makes the game start asking
 the Prometheus' owner to use the power, only if the starting player has that card.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#update(it.polimi.ingsw.model.messageModel.Message)">update</a></span>&#8203;(<a href="../model/messageModel/Message.html" title="class in it.polimi.ingsw.model.messageModel">Message</a>&nbsp;msg)</code></th>
<td class="colLast">
<div class="block">This method receives updates from a Observable class</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;it.polimi.ingsw.controller.<a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></h3>
<a id="methods.inherited.from.class.it.polimi.ingsw.controller.Controller">
<!--   -->
</a><code><a href="Controller.html#checkBuild(it.polimi.ingsw.model.Cell,it.polimi.ingsw.model.messageModel.PlayerBuild)">checkBuild</a>, <a href="Controller.html#checkCell(int,int,it.polimi.ingsw.model.Worker,int)">checkCell</a>, <a href="Controller.html#endGame(it.polimi.ingsw.model.messageModel.NewGameMessage)">endGame</a>, <a href="Controller.html#getModel()">getModel</a>, <a href="Controller.html#increaseLevel(int,it.polimi.ingsw.model.Cell)">increaseLevel</a>, <a href="Controller.html#turnCheck(it.polimi.ingsw.model.messageModel.Message)">turnCheck</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(it.polimi.ingsw.model.Model)">GodCardController</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">GodCardController</span>&#8203;(<span class="arguments"><a href="../model/Model.html" title="class in it.polimi.ingsw.model">Model</a>&nbsp;model)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="setPlayerWorker(it.polimi.ingsw.model.messageModel.PlayerWorker)">setPlayerWorker</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setPlayerWorker</span>&#8203;(<span class="arguments"><a href="../model/messageModel/PlayerWorker.html" title="class in it.polimi.ingsw.model.messageModel">PlayerWorker</a>&nbsp;playerWorker)</span></div>
<div class="block">It overrides the Controller's setPlayerWorker function, if Prometheus' god card is used in the game, this function modifies the game flow, instead of starting in the moving phase it makes the game start asking
 the Prometheus' owner to use the power, only if the starting player has that card.
 At first it checks if the player who has sent the message is the actual turn's player
       If he is, the worker is placed on the board using the model's setWorker function
         Then:
            - If the phase is SETWORKER1 then it changes the model phase to SETWORKER2 but it doesn't change the turn
            - If the phase is SETWORKER2 we can have 2 different alternatives:
                           - If the player wasn't the only one who didn't place the worker, then this method updates the turn and sets the phase to SETWORKER1 again
                           - Otherwise it updates the turn and sets model's phase to MOVE

       If an error has been caught, it is sent only to che client which has generated it


      - If the phase is SETWORKER2 we can have 2 different cases:
                     - The player is not the last, then update turn and set the phase to SETWORKER1 again
                     - Otherwise it updates the turn and sets model's phase to MOVE only if the first player's god
                       card isn't Prometheus, in that case it sets the model's phase to WAIT_GOD_ANSWER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#setPlayerWorker(it.polimi.ingsw.model.messageModel.PlayerWorker)">setPlayerWorker</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>playerWorker</code> - is the Message subclass containing the information about player, and the cell chosen for the worker</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="drawedCards(it.polimi.ingsw.model.messageModel.DrawedCards)">drawedCards</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">drawedCards</span>&#8203;(<span class="arguments"><a href="../model/messageModel/DrawedCards.html" title="class in it.polimi.ingsw.model.messageModel">DrawedCards</a>&nbsp;drawedCards)</span></div>
<div class="block">This method lets the first player choose 2 or 3 god cards (depending on the number of players in the game)
 For each selected card the model's addGod function is called.
 If the selected card number does not correspond to the number of players an error is reported and the action gets asked again
 After the cards are saved, the phase is changed to PICK_CARD, in order to let the other player(s) choose a god card</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>drawedCards</code> - is the message sent by the view containing the drawed cards</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pickACard(it.polimi.ingsw.model.messageModel.PickedCard)">pickACard</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">pickACard</span>&#8203;(<span class="arguments"><a href="../model/messageModel/PickedCard.html" title="class in it.polimi.ingsw.model.messageModel">PickedCard</a>&nbsp;pickedCard)</span></div>
<div class="block">This method controls and saves the card chosen by a player, if the card exists in the array containing the ones drawed,
 the card is set and the phase updated to repeat the same action for the third player, otherwise it assigns the left card to the first player
 and set the game phase to the SETWORKER1</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pickedCard</code> - is the message sent by the view containing the selected card(s)</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="move(it.polimi.ingsw.model.messageModel.PlayerMove)">move</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">move</span>&#8203;(<span class="arguments"><a href="../model/messageModel/PlayerMove.html" title="class in it.polimi.ingsw.model.messageModel">PlayerMove</a>&nbsp;move)</span></div>
<div class="block">It overrides the Controller's method, it adds a function to reset some internal data referred to certain gods if needed, then it calls
 another god card method to handle the move action and controls. If the controls's result is false, it means that there isn't any particular action that need to be done, then it
 does the normal move, otherwise the normal control is skipped and each god card modifies the game flow as the power has defined.
 Before confirming the normal move action, another function is called, the normalMoveModifier can change same model parameter, for example
 Atlas card make a normal move but set next phase to ask god power.
 At first it checks if it's the turn of the player who has sent the message
 Then:
      - It checks if the selected worker can move using the function canMove
      - It calls checkCellAround to check if the selected cell is available in the map
 If every control has a positive outcome, it sets the next model phase to BUILT, it updates messages and MessageTypes and updates the turn
 It then updates the model with the new board configuration and notifies clients about the update
 At the end it checks if anyone won or not</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#move(it.polimi.ingsw.model.messageModel.PlayerMove)">move</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>move</code> - is the Message subclass containing the information needed</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkCantBuild(it.polimi.ingsw.model.messageModel.PlayerBuild)">checkCantBuild</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">checkCantBuild</span>&#8203;(<span class="arguments"><a href="../model/messageModel/PlayerBuild.html" title="class in it.polimi.ingsw.model.messageModel">PlayerBuild</a>&nbsp;playerBuild)</span></div>
<div class="block">This method checks whether the worker which has been used to build the first time can build again
 It's in particular useful with gods that can build two or more times.
 If the player chooses to build again, but the worker can't, the model's loose function is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>playerBuild</code> - is the build message received by the view</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="canMove(it.polimi.ingsw.model.Worker,it.polimi.ingsw.model.Player)">canMove</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">canMove</span>&#8203;(<span class="arguments"><a href="../model/Worker.html" title="class in it.polimi.ingsw.model">Worker</a>&nbsp;worker,
<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;player)</span></div>
<div class="block">This method returns the amount of cells in which the checkCellAround returns true. The returned cell
 represents the ability of a worker to move or not (if it returns zero it means the worker can't move)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#canMove(it.polimi.ingsw.model.Worker,it.polimi.ingsw.model.Player)">canMove</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>worker</code> - is the player's chosen worker to move</dd>
<dd><code>player</code> - is the player who is trying to take the action</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of cells in which the selected worker can move</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="build(it.polimi.ingsw.model.messageModel.PlayerBuild)">build</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">build</span>&#8203;(<span class="arguments"><a href="../model/messageModel/PlayerBuild.html" title="class in it.polimi.ingsw.model.messageModel">PlayerBuild</a>&nbsp;playerBuild)</span>
           throws <span class="exceptions">java.lang.IllegalArgumentException</span></div>
<div class="block">At first it checks if the player which has sent the message is the turn's player
      It then calls the checkBuild function to verify whether the player can build there, otherwise it throws a new IllegalArgumentException
      After that, a god card build handler is called in order to check if the player card can modify the game flow or controls for that build
      If it can, the model is being updated with the next phase, the next turn and the next message by the card controller else a normal build is done
      At the end, another god card action is called to clear some flags if needed
      and then it checks whether anyone won or lost</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#build(it.polimi.ingsw.model.messageModel.PlayerBuild)">build</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>playerBuild</code> - the Message subclass containing the whole information</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the cell is out of range</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="godIncreaseLevel(int,it.polimi.ingsw.model.Cell)">godIncreaseLevel</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">godIncreaseLevel</span>&#8203;(<span class="arguments">int&nbsp;blockId,
<a href="../model/Cell.html" title="class in it.polimi.ingsw.model">Cell</a>&nbsp;buildingCell)</span></div>
<div class="block">Modified increase level for gods card.
 At this poing of the game the turn is already updated, a function to configure the god card turn start is then called
 At the end the superclass increase level is called</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - is the level id of the cell</dd>
<dd><code>buildingCell</code> - is the cell where we built</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="countTowers()">countTowers</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">countTowers</span>()</div>
<div class="block">This function counts the amount of complete tower built in the board.
 A complete tower is a build made from level 0 to 4 without using any god power</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the calculated amount</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkVictory()">checkVictory</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">checkVictory</span>()</div>
<div class="block">This method checks if any of the win conditions within the cards in the game affects the victory of any player.
 If none of them changed the game flow, the default function is recalled</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#checkVictory()">checkVictory</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkCellsAround(it.polimi.ingsw.model.Worker)">checkCellsAround</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">java.util.HashMap&lt;<a href="../model/Cell.html" title="class in it.polimi.ingsw.model">Cell</a>,&#8203;java.lang.Boolean&gt;</span>&nbsp;<span class="memberName">checkCellsAround</span>&#8203;(<span class="arguments"><a href="../model/Worker.html" title="class in it.polimi.ingsw.model">Worker</a>&nbsp;actualWorker)</span></div>
<div class="block">This method is used to determine in which cells the worker can move, associating every cell around the worker to a boolean value
  The check is made by a god card function by default, if the god card doesn't have any different implementation
   the GodCard.checkCell call the controller check cell <a href="../model/GodCard.html" title="class in it.polimi.ingsw.model"><code>GodCard</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#checkCellsAround(it.polimi.ingsw.model.Worker)">checkCellsAround</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actualWorker</code> - is the worker who wants to move</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a map containing the board cell as key and a boolean representing whether cell is available for the move or not</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="update(it.polimi.ingsw.model.messageModel.Message)">update</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">update</span>&#8203;(<span class="arguments"><a href="../model/messageModel/Message.html" title="class in it.polimi.ingsw.model.messageModel">Message</a>&nbsp;msg)</span></div>
<div class="block">This method receives updates from a Observable class</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../observer/Observer.html#update(T)">update</a></code>&nbsp;in interface&nbsp;<code><a href="../observer/Observer.html" title="interface in it.polimi.ingsw.observer">Observer</a>&lt;<a href="../model/messageModel/Message.html" title="class in it.polimi.ingsw.model.messageModel">Message</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="Controller.html#update(it.polimi.ingsw.model.messageModel.Message)">update</a></code>&nbsp;in class&nbsp;<code><a href="Controller.html" title="class in it.polimi.ingsw.controller">Controller</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - is the message sent</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
